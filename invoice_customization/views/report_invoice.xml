<?xml version="1.0" encoding="utf-8"?>
<openerp>
	<data>
		<template id="report_invoice_inherit" >
			<xpath expr="//t[@t-call='report.external_layout']" position="replace">
			<t t-call="invoice_customization.invoice_custom_layout">
					<div class="page" style="font-size:10pt;padding-top:0pt;">
						<div class="row">
								<div class="col-xs-1">
									<img t-if="o.company_id.logo" t-att-src="'data:image/png;base64,%s' % o.company_id.logo" 	style="max-height: 50pt;" />
								</div>
								<div class="col-xs-9 pull-left" style="text-align: center;">
									<div style="font-size:14pt;text-align: center;" t-field="o.company_id.partner_id.name"/>
									<span style="font-size:9pt;text-align: center;" t-field="o.company_id.partner_id.street"/> Tel: <span style="font-size:9pt;text-align: center;" t-field="o.company_id.phone" /> <br></br>
									Fax: <span style="font-size:9pt;text-align: center;" t-field="o.company_id.partner_id.fax" />, <span style="font-size:9pt;text-align: center;" t-field="o.company_id.partner_id.email" />,  <![CDATA[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]]>Commercial Tax Registration No: <span style="font-size:9pt;text-align: center;" t-field="o.period_id.fiscalyear_id.trading_no"/> 
								</div>
						</div>
						<div class="row">
							<div align="center" class="text-uppercase" style="font-size:12pt;">							    
							    <b><span t-field="o.payment_type" /></b>
								<span><b>INVOICE</b></span>
							</div>
						</div>
						<table class="table" style="border-color:white;padding-top:0pt;">
							<tr height="5pt;" style="border:solid;border-color:white;">
								<td>
									<b>Customer :</b>
									<span t-field="o.partner_id.name" />
								</td>
								<td>
									<b>PO No :</b>
									<span t-field="o.origin" />
								</td>
								
								<td>
									<b>Date :</b>
									<span t-field="o.date_invoice" />
								</td>
							</tr>

							<tr height="5pt;" style="border:solid;border-color:white;">
								<td>
									<b>Location :</b>
									<span t-field="o.section_id.name" />
								</td>
								<td>
									<b>Inv No :</b>
									<span t-field="o.number" />
								</td>
								<td>
									<b>Payment Term:</b>
									<span t-field="o.payment_term.note" />
								</td>
							</tr>
						</table>
						<table class="table table-condensed" style="border:1pt solid;padding-top:0pt;">
						    <t t-set="qty" t-value="0"/>
							<thead>
								<tr height="10pt;">
									<th class="text-center" style="border:1pt solid;border-color:black;">No
									</th>
									<th class="text-center" style="border:1pt solid;border-color:black;">Item No
									</th>
									<th class="text-center" style="border:1pt solid;border-color:black;">Description
									</th>
									<th class="text-center" style="border:1pt solid;border-color:black;">Uom</th>
									<th class="text-center" style="border:1pt solid;border-color:black;">Quantity</th>									
									<th class="text-center" style="border:1pt solid;border-color:black;">Unit Price</th>
									<th class="text-center" style="border:1pt solid;border-color:black;">(-)Trade Disc</th>
									<th class="text-center" style="border:1pt solid;border-color:black;">(+)Tax</th>
									<th class="text-center" style="border:1pt solid;border-color:black;">Amount</th>
								</tr>
							</thead>
							<tbody class="invoice_tbody" style="padding-bottom:1pt">
								<tr t-foreach="o.invoice_line" t-as="l">
									<td style="border:1pt solid;border-color:black;" align="center">
										<t t-esc="l_index+1" />
									</td>
									<td style="border:1pt solid;border-color:black;">
										<span t-field="l.product_id.name" />
										<t t-if="l.foc==True">
											(FOC)
										</t>
									</td>
									<td class="text-right" style="border:1pt solid;border-color:black;">
										<span t-field="l.product_id" />
									</td>
									<td class="text-right" style="border:1pt solid;border-color:black;">
										<span t-field="l.uos_id" groups="product.group_uom" />
									</td>
									<td class="text-right" style="border:1pt solid;border-color:black;">
										<span t-field="l.quantity" />
										<t t-set="qty" t-value="qty + l.quantity"/>
									</td>
									
									<td class="text-right" style="border:1pt solid;border-color:black;">
										<!-- <span t-field="l.price_unit" /> -->
										<span t-esc="'%.2f'%l.price_unit" />
									</td>
									<td class="text-right" style="border:1pt solid;border-color:black;">
										<!-- <span t-field="l.price_unit" /> -->
									</td>
									<td class="text-right" style="border:1pt solid;border-color:black;">
										<!-- <span t-field="l.price_unit" /> -->
									</td>
									<td class="text-right" style="border:1pt solid;border-color:black;">
										<t t-if="l.foc==True">
											0.00
										</t>

										<t t-if="l.foc==False">
											<span t-field="l.price_subtotal" />
										</t>
									</td>
								</tr>
							</tbody>
							
							<tfoot class="invoice_tfoot">
							   <tr style="border:1pt solid;border-color:white;">
    								<td colspan="4" rowspan="2" align="center">Total</td>
    								<td rowspan="6" align="right"><span t-esc="'%.2f'%qty" /></td>
    								<td colspan="3" align="center" style="border:1pt solid;border-color:black;">Total</td>
    								<td align="right" style="border:1pt solid;border-color:black;"><span t-field="o.amount_untaxed" /></td>
    							</tr>
    							<tr>
    								<td colspan="3" align="center" style="border:1pt solid;border-color:black;">Cash Discount</td>
    								<td align="right" style="border:1pt solid;border-color:black;"><span t-field="o.cash_discount" /></td>
    							</tr>
    							<tr style="border-color:white;">
    							    <td colspan="5" rowspan="3" align="center" style="border:1pt solid;border-color:white;">KYAT:<span t-esc="o.amount_to_text(o.amount_total, o.currency_id)"/></td> 							    
    							</tr>			
    							<tr>
    								<td colspan="3" align="center" style="border:1pt solid;border-color:black;">Net</td>
    								<td align="right" style="border:1pt solid;border-color:black;"><span t-esc="o.amount_untaxed - o.cash_discount" /></td>
    							</tr>
    							<tr style="border-color:black;">
    								<td colspan="3" align="center" style="border:1pt solid;border-color:black;">Tax</td>
    								<td align="right" style="border:1pt solid;border-color:black;"><span t-esc="'%.2f'% o.amount_tax"
												t-field-options='{"widget": "monetary", "display_currency": "o.pricelist_id.currency_id"}' /></td>
    							</tr>
    							<tr >					    
    							    <td colspan="2" style="border:1pt solid;border-color:white;">Customer's ..........</td>
    							    <td colspan="1" style="border:1pt solid;border-color:white;">Sale ..........</td>
    							    <td colspan="2" style="border:1pt solid;border-color:white;">Computerized By ..........</td>
    								<td colspan="3" align="center" style="border:1pt solid;border-color:black;padding-left:1pt">Net Amount(Kyat)</td>
    								<td align="right" style="border:1pt solid;border-color:black;"><span t-field="o.amount_total" /></td>
    							</tr> 
    							 							
							</tfoot>
						
						</table>	
						 					    									
					</div>
				</t>
			</xpath>
		</template>
		<template id="report_invoice_temp">
    		<t t-call="report.html_container">
        		<t t-foreach="doc_ids" t-as="doc_id">
        			<t t-raw="translate_doc(doc_id, doc_model, 'partner_id.name', 'invoice_customization.report_invoice_inherit')"/>
       			</t>
    		</t>
    	</template>
	</data>
</openerp>
