<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data> 
               
        <record id="sms_history_form_view" model="ir.ui.view">
			<field name="name">sms.history.form</field>
			<field name="model">sms.history</field>
			<field name="arch" type="xml">
				<form string="SMS History Form" create="false" edit="false">
					<header>
						<field name="state" widget="statusbar" statusbar_visible="success,fail" />
					</header>
					<sheet>
						<group>
							<field name="partner_id" />
							<field name="phone" />
							<field name="date" />
							<field name="message" />
							<field name="error_log" />
							<field name="user_id" />
							<field name="name" />
						</group>
					</sheet>
				</form>
			</field>
		</record>

        <record id="sms_history_tree_view" model="ir.ui.view">
            <field name="name">sms.history.tree</field>
            <field name="model">sms.history</field>            
            <field name="arch" type="xml">
                <tree default_order='date desc' string="SMS History" colors="red:state=='fail';blue:state=='success';" create="false" edit="false">
                    <field name="partner_id" />
					<field name="phone" />
					<field name="date" />
					<field name="message" />
					<field name="error_log" />
					<field name="user_id" />
					<field name="name" />
					<field name="state" />
                </tree>
            </field>            
        </record> 

        <record id="sms_history_filter" model="ir.ui.view">
            <field name="name">sms history filter</field>
            <field name="model">sms.history</field>
            <field name="arch" type="xml">
                <search>                    
                    <group expand="0" string="Group By">
                        <filter string="Status" context="{'group_by':'state'}"/>
                        <filter string="Customer" context="{'group_by':'partner_id'}"/>
                        <filter string="User" context="{'group_by':'user_id'}"/>
                        <filter string="Reference" context="{'group_by':'name'}"/>
                        <filter string="Date Day" context="{'group_by': 'date:day'}" />	                        
                    </group>
               </search>
            </field>
        </record>

        <record id="sms_history_action" model="ir.actions.act_window">
            <field name="name">SMS History</field>
            <field name="res_model">sms.history</field>
            <field name="view_type">form</field>
            <field name="view_mode">form,tree</field>
            <field name="view_id" ref="sms_history_tree_view"/>
        </record>
        
        <menuitem id="menu_sms_history" name="SMS History" parent="base.menu_sms" action="sms_history_action" sequence="19"/>

    </data>
</openerp>
