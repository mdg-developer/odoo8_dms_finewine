<?xml version="1.0" encoding="UTF-8"?>
<openerp>
	<data>
		<record model="ir.ui.view" id="mdg_res_partner_opt_out_form">
			<field name="name">res.partner.opt_out.form</field>
			<field name="model">res.partner</field>
			<field name="inherit_id" ref="email_template.res_partner_opt_out_form" />
			<field name="arch" type="xml">
				<xpath expr="//field[@name='opt_out']" position="replace">
				</xpath>
			</field>
		</record>

		<record id="mdg_res_partner_form_view" model="ir.ui.view">
			<field name="name">res.partner.form.view</field>
			<field name="model">res.partner</field>
			<field name="inherit_id" ref="base.view_partner_form" />
			<field name="arch" type="xml">
				<data>
					<field name="active" position="replace" />

					<notebook position="inside">
						<page string="Marketing">
							<label for="active" />
							<field name="active" />
							<div>
								<label for="opt_out" />
								<field name="opt_out" />
							</div>

						</page>
					</notebook>
					<xpath
						expr="//page[@name='sales_purchases']/group/group/field[@name='customer']"
						position="replace">
						<field name="customer" attrs="{'invisible':[('supplier','=',True)]}" />
					</xpath>
					<xpath
						expr="//page[@name='sales_purchases']/group/group/field[@name='supplier']"
						position="replace">
						<field name="supplier" attrs="{'invisible':[('customer','=',True)]}" />
					</xpath>
					<xpath
						expr="//form[@string='Contact']/sheet/group/field[@name='mobile']"
						position="after">
						<field name="contact_note" />
					</xpath>
				</data>
			</field>
		</record>



		<record id="mdg_account_view_partner_property_form" model="ir.ui.view">
			<field name="name">res.partner.property.form.inherit</field>
			<field name="model">res.partner</field>
			<field name="priority">2</field>
			<field name="inherit_id" ref="account.view_partner_property_form" />
			<field name="arch" type="xml">
				<data>
					<field name="property_account_receivable" position="replace">
						<field name="property_account_receivable" groups="account.group_account_invoice"
							attrs="{'invisible':[('supplier','=',True)]}" />
					</field>
					<field name="property_payment_term" position="replace">

						<field name="property_payment_term" widget="selection"
							attrs="{'invisible':[('supplier','=',True)]}" />
					</field>
					<field name="credit" position="replace">
						<field name="credit" attrs="{'invisible':[('supplier','=',True)]}" />
					</field>
					<field name="credit_limit" position="replace">
						<field name="credit_limit" attrs="{'invisible':[('supplier','=',True)]}" />
					</field>
					<field name="property_account_payable" position="replace">
						<field name="property_account_payable" groups="account.group_account_invoice"
							attrs="{'invisible':[('customer','=',True)]}" />
					</field>
					<field name="property_supplier_payment_term" position="replace">

						<field name="property_supplier_payment_term" widget="selection"
							attrs="{'invisible':[('customer','=',True)]}" />
					</field>
					<field name="debit" position="replace">

						<field name="debit" attrs="{'invisible':[('customer','=',True)]}" />
					</field>
				</data>
			</field>
		</record>

		<record id="mdg_view_partner_property_form" model="ir.ui.view">
			<field name="name">res.partner.stock.property.form.inherit</field>
			<field name="model">res.partner</field>
			<field name="inherit_id" ref="stock.view_partner_property_form" />
			<field name="arch" type="xml">
				<data>
					<xpath expr="//field[@name='property_stock_customer']"
						position="replace">
						<field name="property_stock_customer" domain="[('usage','=','customer')]"
							attrs="{'invisible':[('supplier','=',True)]}" />
					</xpath>
					<xpath expr="//field[@name='property_stock_supplier']"
						position="replace">
						<field name="property_stock_supplier" domain="[('usage','=','supplier')]"
							attrs="{'invisible':[('customer','=',True)]}" />
					</xpath>
				</data>
			</field>
		</record>
	</data>
</openerp>