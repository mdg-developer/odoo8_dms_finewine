<?xml version="1.0" encoding="UTF-8"?>
<openerp>
	<data>

		<record id="product_pricelist_item_form_view" model="ir.ui.view">
			<field name="name">product.pricelist.item.form</field>
			<field name="model">product.pricelist.item</field>
			<field name="inherit_id" ref="product.product_pricelist_item_form_view" />
			<field name="arch" type="xml">
				<label for="name" position="replace" />

				<field name="name" position="replace">
					<field name="name" invisible="1" />
				</field>
				<field name="price_round" position="replace">
					<field name="price_round" invisible="1" />
				</field>
				<field name="price_min_margin" position="replace">
					<field name="price_min_margin" invisible="1" />
				</field>
				<field name="price_max_margin" position="replace">
					<field name="price_max_margin" invisible="1" />
				</field>
				<xpath expr="//form/group/field[@name='price_max_margin']"
					position="after">
					<newline />
					<label string="New Price =" />
					<field name="new_price" nolabel="1" />
				</xpath>
				<xpath expr="//form/group/field[@name='price_discount']"
					position="replace">
					<field name="price_discount" nolabel="1"
						on_change="price_dis_change(product_id,price_discount,new_price,price_surcharge)" />
				</xpath>

				<xpath expr="//form/group/field[@name='price_surcharge']"
					position="replace">
					<field name="price_surcharge" nolabel="1"
						on_change="price_subcharge_change(product_id,price_discount,new_price,price_surcharge)" />
				</xpath>

				<field name="base" position="after">
					<field name="list_price" />
				</field>
			</field>
		</record>

		<record id="mdg_product_pricelist_item_tree_view" model="ir.ui.view">
			<field name="name">product.pricelist.item.tree</field>
			<field name="model">product.pricelist.item</field>
			<field name="inherit_id" ref="product.product_pricelist_item_tree_view" />
			<field name="arch" type="xml">
				<field name="sequence" position="replace">
					<field name="sequence" invisible="1" />
				</field>
				<field name="name" position="replace">
					<field name="name" invisible="1" />
				</field>
				<field name="min_quantity" position="replace">
					<field name="new_price" />
				</field>
				<field name="categ_id" position="after">
					<field name="list_price" />
					<field name="price_discount" string="%Change" />
					<field name="price_surcharge" string=" +/- " />
				</field>
				<field name="product_tmpl_id" position="replace">
					<field name="product_tmpl_id" invisible="1" />
				</field>
				<field name="categ_id" position="replace">
					<field name="categ_id" invisible="1" />
				</field>
				<field name="base" position="replace">
					<field name="base" invisible="1" />
				</field>


			</field>
		</record>
		<menuitem action="product.product_pricelist_action2" id="product.menu_product_pricelist_action2"
			parent="product.menu_product_pricelist_main" name="Main Pricelists"
			sequence="1" groups="product.group_sale_pricelist" />

		<record id="product_pricelist_version_form_view_inherit1"
			model="ir.ui.view">
			<field name="name">product.pricelist.version.form.inherit</field>
			<field name="model">product.pricelist.version</field>
			<field name="inherit_id" ref="product.product_pricelist_version_form_view"></field>
			<field name="arch" type="xml">
				<field name="company_id" position="after">
					<field name="branch_id" widget="many2many_tags" />

					<button name="retrieve_data" string="Retrieve" type="object"
						class="oe_highlight" icon="terp-stock_effects-object-colorize" />
				</field>
				<xpath expr="//page/field[@name='items_id']" position="replace">
					<field name="items_id">
						<tree string="Item List" editable="bottom" default_order="name desc">
							<field name="sequence" />
							<field name="product_id" on_change="product_id_change(product_id,price_discount,price_surcharge)" />
							<field name="name" invisible="1" />
							
							<field name="categ_id"/>
							<field name="min_quantity"/>
							<field name="product_tmpl_id" invisible="1" />
							<!-- <field name="product_uom_id" /> -->
							<field name="list_price" />
							<field name="price_discount" string="%Change"
								on_change="price_dis_change(product_id,price_discount,new_price,price_surcharge)" />
							<field name="price_surcharge" string=" +/- "
								on_change="price_subcharge_change(product_id,price_discount,new_price,price_surcharge)" />
							<field name="new_price" invisiblle="0"/>
							<field name="base" />
						</tree>
					</field>
				</xpath>
			</field>
		</record>
		<record id="action_product_pricelist_item" model="ir.actions.act_window">
			<field name="name">Product Pricelist Item</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">product.pricelist.item</field>
			<field name="context">{}</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="view_id" ref="product.product_pricelist_item_tree_view" />
			<field name="domain">[]
			</field>
		</record>
		<!-- <menuitem action='action_product_pricelist_item' id="menu_product_pricelist_item" -->
		<!-- parent="product.menu_product_pricelist_main" sequence="3" -->
		<!-- groups="base.group_no_one" /> -->

		<record id="product_pricelist_maingroup_view_tree" model="ir.ui.view">
			<field name="name">product.pricelist.tree.maingroup</field>
			<field name="model">product.pricelist</field>
			<field name="inherit_id" ref="product.product_pricelist_view_tree" />
			<field name="arch" type="xml">
				<xpath expr="//field[@name='name']" position="replace">
					<field name="name" string="Name" />
					<field name="branch_id" />
				</xpath>
				<xpath expr="//field[@name='type']" position="replace">
					<field name="type" string="Type" />
				</xpath>
			</field>
		</record>

		<record id="inherit_product_pricelist_version_tree_view" model="ir.ui.view">
			<field name="name">product.pricelist.version.tree</field>
			<field name="model">product.pricelist.version</field>
			<field name="inherit_id" ref="product.product_pricelist_version_tree_view" />
			<field name="arch" type="xml">
				<field name="name" position="replace">
					<field name="name" string="Version Name" />
				</field>
				<field name="pricelist_id" position="replace">
					<field name="pricelist_id" string="Main Pricelist" />
				</field>
				<field name="date_end" position="after">
					<field name="active" />
				</field>
			</field>
		</record>

		<!-- product pricelist form -->
		<record model="ir.ui.view" id="view_product_pricelist_maingroup_form">
			<field name="name">Product Pricelist Form</field>
			<field name="model">product.pricelist</field>
			<field name="inherit_id" ref="product.product_pricelist_view" />
			<field name="arch" type="xml">
				<xpath expr="//form/h1" position="after">
					<group>
						<group>
							<field name="main_group_id" string="Main Group" />
						</group>
					</group>
				</xpath>
				<xpath expr="//field[@name='currency_id']" position="after">
				    <field name="branch_id" />
				    <field name="sales_channel" />
				</xpath>
			</field>
		</record>

		<record id="product_pricelist_maingroup_view_tree" model="ir.ui.view">
			<field name="name">product.pricelist.tree.maingroup</field>
			<field name="model">product.pricelist</field>
			<field name="inherit_id" ref="product.product_pricelist_view_tree" />
			<field name="arch" type="xml">
				<xpath expr="//field[@name='name']" position="after">
					<field name="main_group_id" />
					<field name="branch_id" />
					<field name="sales_channel" />
				</xpath>
			</field>
		</record>
		
		<!-- <record id="product_pricelist_item_view_tree_customize" model="ir.ui.view">
			<field name="name">product.pricelist.item.tree</field>
			<field name="model">product.pricelist.item</field>			
			<field name="arch" type="xml">
				<field name="sequence"/>
				<field name="product_id" on_change="product_id_change(product_id)"/>
				<field name="name" invisible="1"/>
				<field name="base" invisible="1"/>
				<field name="categ_id"/>
				<field name="min_quantity"/>
				<field name="product_tmpl_id" invisible="1"/>
				
				<field name="list_price"/>
				<field name="price_discount" string="%Change" />
				<field name="price_surcharge" string=" +/- " />
				<field name="new_price" invisiblle="0"/>
			</field>
		</record> -->
		
		<record id="product_pricelist_view_inherit" model="ir.ui.view">
			<field name="name">product.pricelist.form</field>
			<field name="model">product.pricelist</field>
			<field name="inherit_id" ref="product.product_pricelist_view" />
			<field name="arch" type="xml">
				<xpath expr="//field[@name='items_id']" position="replace">
					<field name="items_id">
						<tree string="Item List" editable="bottom" default_order="name desc">
							<field name="sequence"/>
							<field name="product_id" />
							<field name="name" invisible="1"/>
							<field name="base" invisible="1"/>
							<field name="categ_id"/>
							<field name="min_quantity"/>
							<field name="product_tmpl_id" invisible="1"/>
							<!-- <field name="product_uom_id" /> -->
							<field name="list_price"/>
							<field name="price_discount" string="%Change" />
							<field name="price_surcharge" string=" +/- " />
							<field name="new_price" invisiblle="0"/>
						</tree>
					</field>
				</xpath>
			</field>
		</record>
	</data>
</openerp>